{"ast":null,"code":"import _defineProperty from \"/Users/semeongetachew/Desktop/vintechy/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/semeongetachew/Desktop/vintechy/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/semeongetachew/Desktop/vintechy/src/context/user.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// user context\nimport React from \"react\";\nconst UserContext = React.createContext();\n\nfunction getUserFromLocalStorage() {\n  return localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {\n    username: null,\n    token: null\n  };\n}\n\nfunction UserProvider({\n  children\n}) {\n  // const [user, setUser] = React.useState({ username: null, token: null });\n  const _React$useState = React.useState(getUserFromLocalStorage()),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        user = _React$useState2[0],\n        setUser = _React$useState2[1];\n\n  const _React$useState3 = React.useState(0),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        height = _React$useState4[0],\n        setHeight = _React$useState4[1];\n\n  React.useEffect(() => {\n    window.addEventListener(\"scroll\", () => {\n      setHeight(window.pageYOffset);\n    });\n    return () => window.removeEventListener(\"scroll\", () => {});\n  });\n\n  const userLogin = user => {\n    setUser(user);\n    localStorage.setItem(\"user\", JSON.stringify(user));\n  };\n\n  const userLogout = () => {\n    setUser({\n      username: null,\n      token: null\n    });\n    localStorage.removeItem(\"user\");\n  };\n\n  const _React$useState5 = React.useState({\n    show: false,\n    msg: \"\",\n    type: \"success\"\n  }),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        alert = _React$useState6[0],\n        setAlert = _React$useState6[1];\n\n  const showAlert = ({\n    msg,\n    type = \"success\"\n  }) => {\n    setAlert({\n      show: true,\n      msg,\n      type\n    });\n  };\n\n  const hideAlert = () => {\n    setAlert(_objectSpread({}, alert, {\n      show: false\n    }));\n  };\n\n  return React.createElement(UserContext.Provider, {\n    value: {\n      user,\n      userLogin,\n      userLogout,\n      alert,\n      showAlert,\n      hideAlert,\n      height\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, children);\n}\n\nexport { UserProvider, UserContext };","map":{"version":3,"sources":["/Users/semeongetachew/Desktop/vintechy/src/context/user.js"],"names":["React","UserContext","createContext","getUserFromLocalStorage","localStorage","getItem","JSON","parse","username","token","UserProvider","children","useState","user","setUser","height","setHeight","useEffect","window","addEventListener","pageYOffset","removeEventListener","userLogin","setItem","stringify","userLogout","removeItem","show","msg","type","alert","setAlert","showAlert","hideAlert"],"mappings":";;;;;;;;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,WAAW,GAAGD,KAAK,CAACE,aAAN,EAApB;;AAEA,SAASC,uBAAT,GAAmC;AACjC,SAAOC,YAAY,CAACC,OAAb,CAAqB,MAArB,IACHC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CADG,GAEH;AAAEG,IAAAA,QAAQ,EAAE,IAAZ;AAAkBC,IAAAA,KAAK,EAAE;AAAzB,GAFJ;AAGD;;AAED,SAASC,YAAT,CAAsB;AAAEC,EAAAA;AAAF,CAAtB,EAAoC;AAClC;AADkC,0BAEVX,KAAK,CAACY,QAAN,CAAeT,uBAAuB,EAAtC,CAFU;AAAA;AAAA,QAE3BU,IAF2B;AAAA,QAErBC,OAFqB;;AAAA,2BAGNd,KAAK,CAACY,QAAN,CAAe,CAAf,CAHM;AAAA;AAAA,QAG3BG,MAH2B;AAAA,QAGnBC,SAHmB;;AAKlChB,EAAAA,KAAK,CAACiB,SAAN,CAAgB,MAAM;AACpBC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,MAAM;AACtCH,MAAAA,SAAS,CAACE,MAAM,CAACE,WAAR,CAAT;AACD,KAFD;AAGA,WAAO,MAAMF,MAAM,CAACG,mBAAP,CAA2B,QAA3B,EAAqC,MAAM,CAAE,CAA7C,CAAb;AACD,GALD;;AAOA,QAAMC,SAAS,GAAGT,IAAI,IAAI;AACxBC,IAAAA,OAAO,CAACD,IAAD,CAAP;AACAT,IAAAA,YAAY,CAACmB,OAAb,CAAqB,MAArB,EAA6BjB,IAAI,CAACkB,SAAL,CAAeX,IAAf,CAA7B;AACD,GAHD;;AAKA,QAAMY,UAAU,GAAG,MAAM;AACvBX,IAAAA,OAAO,CAAC;AAAEN,MAAAA,QAAQ,EAAE,IAAZ;AAAkBC,MAAAA,KAAK,EAAE;AAAzB,KAAD,CAAP;AACAL,IAAAA,YAAY,CAACsB,UAAb,CAAwB,MAAxB;AACD,GAHD;;AAjBkC,2BAqBR1B,KAAK,CAACY,QAAN,CAAe;AACvCe,IAAAA,IAAI,EAAE,KADiC;AAEvCC,IAAAA,GAAG,EAAE,EAFkC;AAGvCC,IAAAA,IAAI,EAAE;AAHiC,GAAf,CArBQ;AAAA;AAAA,QAqB3BC,KArB2B;AAAA,QAqBpBC,QArBoB;;AA0BlC,QAAMC,SAAS,GAAG,CAAC;AAAEJ,IAAAA,GAAF;AAAOC,IAAAA,IAAI,GAAG;AAAd,GAAD,KAA+B;AAC/CE,IAAAA,QAAQ,CAAC;AAAEJ,MAAAA,IAAI,EAAE,IAAR;AAAcC,MAAAA,GAAd;AAAmBC,MAAAA;AAAnB,KAAD,CAAR;AACD,GAFD;;AAGA,QAAMI,SAAS,GAAG,MAAM;AACtBF,IAAAA,QAAQ,mBAAMD,KAAN;AAAaH,MAAAA,IAAI,EAAE;AAAnB,OAAR;AACD,GAFD;;AAGA,SACE,oBAAC,WAAD,CAAa,QAAb;AACE,IAAA,KAAK,EAAE;AACLd,MAAAA,IADK;AAELS,MAAAA,SAFK;AAGLG,MAAAA,UAHK;AAILK,MAAAA,KAJK;AAKLE,MAAAA,SALK;AAMLC,MAAAA,SANK;AAOLlB,MAAAA;AAPK,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAWGJ,QAXH,CADF;AAeD;;AAED,SAASD,YAAT,EAAuBT,WAAvB","sourcesContent":["// user context\nimport React from \"react\";\n\nconst UserContext = React.createContext();\n\nfunction getUserFromLocalStorage() {\n  return localStorage.getItem(\"user\")\n    ? JSON.parse(localStorage.getItem(\"user\"))\n    : { username: null, token: null };\n}\n\nfunction UserProvider({ children }) {\n  // const [user, setUser] = React.useState({ username: null, token: null });\n  const [user, setUser] = React.useState(getUserFromLocalStorage());\n  const [height, setHeight] = React.useState(0);\n\n  React.useEffect(() => {\n    window.addEventListener(\"scroll\", () => {\n      setHeight(window.pageYOffset);\n    });\n    return () => window.removeEventListener(\"scroll\", () => {});\n  });\n\n  const userLogin = user => {\n    setUser(user);\n    localStorage.setItem(\"user\", JSON.stringify(user));\n  };\n\n  const userLogout = () => {\n    setUser({ username: null, token: null });\n    localStorage.removeItem(\"user\");\n  };\n  const [alert, setAlert] = React.useState({\n    show: false,\n    msg: \"\",\n    type: \"success\"\n  });\n  const showAlert = ({ msg, type = \"success\" }) => {\n    setAlert({ show: true, msg, type });\n  };\n  const hideAlert = () => {\n    setAlert({ ...alert, show: false });\n  };\n  return (\n    <UserContext.Provider\n      value={{\n        user,\n        userLogin,\n        userLogout,\n        alert,\n        showAlert,\n        hideAlert,\n        height\n      }}\n    >\n      {children}\n    </UserContext.Provider>\n  );\n}\n\nexport { UserProvider, UserContext };\n"]},"metadata":{},"sourceType":"module"}